{"version":3,"file":"343.5ed7ab8945d246ff.js","mappings":"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","names":["EscrutinioService","constructor","http","Urls","this","url","apiUrl","getHttpHeaders","HttpHeaders","Accept","getEscuelasDeLaEleccion","id","endPoint","eleccion_id","params","HttpParams","set","httpOptions","headers","get","getListasElectoralesPorEleccion","getResultadoMesaPorCargo","id_mesa","id_cargo","toString","guardarResultadoMesa","resultado","mesa_id","cargo_id","post","t","i0","i1","API_URLS","core","Yz7","factory","ɵfac","providedIn","mesa_r4","_r6","$implicit","ctx_r5","redirectToCarga","numeroMesa","SidebarEscrutinioComponent_mat_expansion_panel_9_mat_list_item_5_Template","escuela_r2","nombre","MesaElectorals","SidebarEscrutinioComponent","breakpointObserver","escrutinioService","route","router","isHandsetSubject","Subject","data","isHandset$","asObservable","id_eleccion","snapshot","observe","Breakpoints","Handset","subscribe","result","next","matches","ngOnInit","loadMenu","idMesa","navigate","relativeTo","i2","i3","Xpm","selectors","decls","vars","consts","template","rf","ctx","SidebarEscrutinioComponent_mat_expansion_panel_9_Template","_r7","_r0","toggle","LayoutComponent","setupService","e","eleccionOb$","ele","cargo_r3","$event","_r5","ctx_r4","onSelectChange","CargaDatosComponent_div_0_mat_option_7_Template","ctx_r0","mesa","Escuela","cargos","_r9","ctx_r8","actualizarValores","item_r7","cantidadVotos","ListaElectoral","numero_lista","Candidato","apellido","_r12","ctx_r11","resultadoMesa","votosAfirmativos","ctx_r13","ctx_r14","votosBlancos","ctx_r15","ctx_r16","votosNulos","ctx_r17","ctx_r18","votosRecurridos","ctx_r19","ctx_r20","votosImpuganados","ctx_r21","totalVotos","CargaDatosComponent_div_1_div_26_Template","ctx_r22","guardar","ctx_r1","DetalleResultado","routes","path","component","children","CargaDatosComponent","zone","crudService","formBuilder","functionCallingService","listas","listasFiltradas","idCargoSelected","funciones","formulario","group","ngOnDestroy","navigateSusbcriptions","unsubscribe","parent","undefined","loadMesa","loadListasElectorales","subscription","functionReturned$","run","length","includes","responseObject","JSON","parse","arguments","error","console","name","trim","cargarResultadoPorVoz","log","loadCargos","map","item","Cargo","filter","value","index","self","findIndex","c","res","MesasElectoral","getById","err","Swal","icon","title","text","filtrarListasPorCargo","cargoId","lista","event","ResultadoMesa","Object","assign","total","agregarDetallesFaltantes","armarFunctionsCallings","addPromptText","armarPromtCastellano","description","parameters","type","properties","votes","items","qty_vote","blanco","nulos","recurridos","impugnados","addFunctions","armarPromt","prompt","i","l","linea","replace","forEach","find","detalle","lista_id","push","rta","reduce","accum","valor","validarResultado","argumentos","dr","x","i4","i5","CargaDatosComponent_div_0_Template","CargaDatosComponent_div_1_Template","EscrutinioRoutingModule","oAB","cJS","RouterModule","forChild","EscrutinioModule","CommonModule","MaterialModule","FormsModule","ReactiveFormsModule"],"sourceRoot":"webpack:///","sources":["./src/app/Escrutinio/services/escrutinio.service.ts","./src/app/Escrutinio/layout/sidebar-escrutinio/sidebar-escrutinio.component.html","./src/app/Escrutinio/layout/sidebar-escrutinio/sidebar-escrutinio.component.ts","./src/app/Escrutinio/layout/layout.component.ts","./src/app/Escrutinio/layout/layout.component.html","./src/app/Escrutinio/carga-datos/carga-datos.component.html","./src/app/Escrutinio/escrutinio-routing.module.ts","./src/app/Escrutinio/carga-datos/carga-datos.component.ts","./src/app/Escrutinio/escrutinio.module.ts"],"sourcesContent":["import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { API_URLS, AppSetings } from 'src/app/app-setting/app-config.token';\r\nimport { Escuela } from 'src/app/models/Escuela';\r\nimport { ListaElectoral } from 'src/app/models/ListaElectoral';\r\nimport { ResultadoMesa } from 'src/app/models/ResultadoMesa';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EscrutinioService {\r\n  private url: string;\r\n  constructor(private http: HttpClient, @Inject(API_URLS) private Urls: AppSetings) {\r\n    this.url = Urls.apiUrl;\r\n\r\n  }\r\n\r\n  getHttpHeaders(): HttpHeaders {\r\n    return new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n    });\r\n  }\r\n\r\n  public getEscuelasDeLaEleccion(id: number) {\r\n    const endPoint = this.url + \"escuelas/getEscuelaByEleccion/\";\r\n    const eleccion_id = id;\r\n\r\n    const params = new HttpParams()\r\n      .set('idEleccion', eleccion_id);\r\n\r\n    const httpOptions = {\r\n      headers: this.getHttpHeaders(),\r\n      params: params,\r\n    };\r\n\r\n    return this.http.get<Escuela[]>(endPoint, httpOptions);\r\n  }\r\n\r\n  public getListasElectoralesPorEleccion(eleccion_id: number) {\r\n    const endPoint = this.url + \"listas/obtenerPorEleccion/\";\r\n\r\n    const params = new HttpParams()\r\n      .set('eleccion_id', eleccion_id);\r\n\r\n    const httpOptions = {\r\n      headers: this.getHttpHeaders(),\r\n      params: params,\r\n    };\r\n\r\n    return this.http.get<ListaElectoral[]>(endPoint, httpOptions);\r\n\r\n  }\r\n\r\n  public getResultadoMesaPorCargo(id_mesa: number, id_cargo: number) {\r\n    const endPoint = this.url + \"escrutinio/resultadoMesa\";\r\n    let params = new HttpParams();\r\n    params = params.set('id_mesa', id_mesa.toString());\r\n    params = params.set('id_cargo', id_cargo.toString());\r\n\r\n    const httpOptions = {\r\n      headers: this.getHttpHeaders(),\r\n      params: params,\r\n    };\r\n\r\n    return this.http.get<ResultadoMesa>(endPoint, httpOptions);\r\n  }\r\n\r\n  public guardarResultadoMesa(resultado: ResultadoMesa) {\r\n    const endPoint = this.url + \"escrutinio/gurdarResultado\"\r\n\r\n    let params = new HttpParams();\r\n    params = params.set('id_mesa', resultado.mesa_id);\r\n    params = params.set('id_cargo', resultado.cargo_id);\r\n\r\n    const httpOptions = {\r\n      headers: this.getHttpHeaders(),\r\n      params: params,\r\n    };\r\n\r\n    return this.http.post(endPoint, resultado, httpOptions);\r\n  }\r\n\r\n\r\n}\r\n","<mat-sidenav-container class=\"sidenav-container sidebar-container\">\r\n  <mat-sidenav\r\n    #drawer\r\n    class=\"sidenav\"\r\n    fixedInViewport\r\n    [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\r\n    [mode]=\"(isHandset$ | async) ? 'over' : 'side'\"\r\n    [opened]=\"(isHandset$ | async) === false\"\r\n\r\n  >\r\n    <mat-toolbar>Menu</mat-toolbar>\r\n    <mat-accordion multi=\"true\">\r\n      <mat-expansion-panel\r\n        *ngFor=\"let escuela of data\"\r\n        class=\"mat-elevation-z0\"\r\n      >\r\n        <mat-expansion-panel-header>\r\n          <mat-panel-title>{{ escuela.nombre }}</mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n        <mat-nav-list>\r\n          <mat-list-item *ngFor=\"let mesa of escuela.MesaElectorals\"  matLine (click)=\"redirectToCarga(mesa.id)\">\r\n            <a>{{ mesa.numeroMesa }}</a>\r\n          </mat-list-item>\r\n        </mat-nav-list>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n  </mat-sidenav>\r\n\r\n  <mat-sidenav-content>\r\n    <mat-toolbar color=\"primary\">\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Toggle sidenav\"\r\n        mat-icon-button\r\n        (click)=\"drawer.toggle()\"\r\n      >\r\n        <mat-icon aria-label=\"Side nav toggle icon\">menu</mat-icon>\r\n      </button>\r\n      <span class=\"example-spacer\"></span>\r\n      <span>Escrutinio Elecciones 2023</span>\r\n    </mat-toolbar>\r\n    <!-- Contenido adicional aquí -->\r\n    <router-outlet></router-outlet>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Observable, Subject, map, shareReplay } from 'rxjs';\r\nimport { EscrutinioService } from '../../services/escrutinio.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Escuela } from 'src/app/models/Escuela';\r\n\r\n@Component({\r\n  selector: 'app-sidebar-escrutinio',\r\n  templateUrl: './sidebar-escrutinio.component.html',\r\n  styleUrls: ['./sidebar-escrutinio.component.css']\r\n})\r\nexport class SidebarEscrutinioComponent implements OnInit {\r\n\r\n  isHandsetSubject: Subject<boolean> = new Subject<boolean>();\r\n\r\n\r\n  data: Escuela[] = [];\r\n  id_eleccion: number;\r\n  isHandset$: Observable<boolean> = this.isHandsetSubject.asObservable();\r\n  constructor(private breakpointObserver: BreakpointObserver, private escrutinioService: EscrutinioService, private route: ActivatedRoute,  private router: Router) {\r\n\r\n    this.id_eleccion = this.route.snapshot.params['id_eleccion'];\r\n    this.breakpointObserver.observe(Breakpoints.Handset).subscribe((result) => {\r\n      this.isHandsetSubject.next(result.matches);\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadMenu();\r\n  }\r\n\r\n  loadMenu() {\r\n    this.escrutinioService.getEscuelasDeLaEleccion(this.id_eleccion).subscribe(\r\n      {\r\n        next: (data: Escuela[]) => {\r\n          this.data = data;\r\n          //this.isHandsetSubject.next(true); // Establecer el valor en true\r\n          this.isHandsetSubject.next(false); // Establecer el valor en false\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  redirectToCarga(idMesa: number) {\r\n    const idEleccion = this.id_eleccion;\r\n    this.router.navigate(['carga', idMesa], { relativeTo: this.route });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SetupService } from 'src/app/Shared/services/setup.service';\r\nimport { Eleccion } from 'src/app/models/Elecciones';\r\n\r\n@Component({\r\n  selector: 'app-layout',\r\n  templateUrl: './layout.component.html',\r\n  styleUrls: ['./layout.component.css']\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n  e: Eleccion | null= null;\r\n  constructor(private setupService : SetupService){\r\n    this.setupService.eleccionOb$.subscribe(\r\n      ele => this.e = ele\r\n      );\r\n  }\r\n  ngOnInit(): void {\r\n\r\n  }\r\n}\r\n","<div class=\"dashboard\">\r\n  <app-sidebar-escrutinio></app-sidebar-escrutinio>\r\n\r\n</div>\r\n","<div class=\"header form-grid\" *ngIf=\"mesa\">\r\n  <h2>Escuela: {{ mesa.Escuela.nombre }} Mesa Numero: {{ mesa.numeroMesa }}</h2>\r\n  <mat-form-field >\r\n    <mat-label>Cargos</mat-label>\r\n    <mat-select (selectionChange)=\"onSelectChange($event)\">\r\n      <mat-option *ngFor=\"let cargo of cargos\" [value]=\"cargo\">{{ cargo.nombre }}</mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n</div>\r\n\r\n<div *ngIf=\"resultadoMesa\">\r\n  <div class=\"form-grid\">\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">Votos Afirmativos</mat-label>\r\n      <input matInput type=\"number\" [(ngModel)]=\"resultadoMesa.votosAfirmativos\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">Votos Blancos</mat-label>\r\n      <input (change)=\"actualizarValores()\" matInput type=\"number\" [(ngModel)]=\"resultadoMesa.votosBlancos\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">Votos Nulos</mat-label>\r\n      <input (change)=\"actualizarValores()\" matInput type=\"number\" [(ngModel)]=\"resultadoMesa.votosNulos\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">Votos Recurridos</mat-label>\r\n      <input (change)=\"actualizarValores()\" matInput type=\"number\" [(ngModel)]=\"resultadoMesa.votosRecurridos\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">Votos Impugnados</mat-label>\r\n      <input (change)=\"actualizarValores()\" matInput type=\"number\" [(ngModel)]=\"resultadoMesa.votosImpuganados\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">Total</mat-label>\r\n      <input matInput type=\"number\" [(ngModel)]=\"totalVotos\" />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div *ngFor=\"let item of resultadoMesa.DetalleResultado\" class=\"form-field\">\r\n    <mat-form-field class=\"form-field\">\r\n      <mat-label class=\"label-text\">{{item.ListaElectoral.numero_lista}} - {{ item.ListaElectoral.nombre }} - {{ item.ListaElectoral.Candidato.nombre }} {{ item.ListaElectoral.Candidato.apellido }}</mat-label>\r\n      <input (change)=\"actualizarValores()\" matInput type=\"number\" [(ngModel)]=\"item.cantidadVotos\" />\r\n    </mat-form-field>\r\n  </div>\r\n  <button (click)=\"guardar()\" mat-raised-button color=\"primary\">Guardar</button>\r\n</div>\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { CargaDatosComponent } from './carga-datos/carga-datos.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LayoutComponent,\r\n    children: [\r\n      {path: 'carga/:id_mesa', component: CargaDatosComponent}, //\r\n    ],\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EscrutinioRoutingModule { }\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { EscrutinioService } from '../services/escrutinio.service';\r\nimport { Cargo } from 'src/app/models/Cargo';\r\nimport { ListaElectoral } from 'src/app/models/ListaElectoral';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Eleccion } from 'src/app/models/Elecciones';\r\nimport { MesasElectoral } from 'src/app/models/MesaElectoral';\r\nimport { CrudService } from 'src/app/Shared/services/crud.service';\r\nimport Swal from 'sweetalert2';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSelectChange } from '@angular/material/select';\r\nimport { DetalleResultado, ResultadoMesa } from 'src/app/models/ResultadoMesa';\r\nimport { Subscription } from 'rxjs';\r\nimport { FunctionCallingService } from 'src/app/Shared/services/functionCalling.service';\r\nimport { FunctionCall } from 'src/app/models/FunctionInterface';\r\n\r\n@Component({\r\n  selector: 'app-carga-datos',\r\n  templateUrl: './carga-datos.component.html',\r\n  styleUrls: ['./carga-datos.component.css']\r\n})\r\nexport class CargaDatosComponent implements OnInit, OnDestroy {\r\n  cargos: Cargo[] = [];\r\n  listas: ListaElectoral[] = [];\r\n  listasFiltradas: ListaElectoral[] = [];\r\n  mesa!: MesasElectoral;\r\n  eleccion!: Eleccion;\r\n  eleccion_id!: number;\r\n  mesa_id!: number;\r\n  formulario: FormGroup;\r\n  idCargoSelected: number = 0;\r\n  resultadoMesa: ResultadoMesa | undefined;\r\n  navigateSusbcriptions!: Subscription;\r\n  totalVotos: number = 0;\r\n  private subscription!: Subscription;\r\n\r\n  private funciones: any[] = [];\r\n\r\n  constructor(private escrutinioService: EscrutinioService, private route: ActivatedRoute,  private zone: NgZone,\r\n    private crudService: CrudService, private formBuilder: FormBuilder, private functionCallingService: FunctionCallingService) {\r\n\r\n    this.formulario = this.formBuilder.group({});\r\n    const prompt = `You have the following candidates/political parties name:\r\n    `;\r\n\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.navigateSusbcriptions.unsubscribe();\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.parent?.params.subscribe(params => {\r\n      this.eleccion_id = params['id_eleccion'];\r\n\r\n      if (this.navigateSusbcriptions) {\r\n        this.navigateSusbcriptions.unsubscribe();\r\n      }\r\n      this.navigateSusbcriptions = this.route.params.subscribe(params => {\r\n        this.mesa_id = params['id_mesa'];\r\n        this.resultadoMesa = undefined;\r\n        this.loadMesa();\r\n        this.loadListasElectorales();\r\n      });\r\n\r\n    });\r\n\r\n    this.subscription = this.functionCallingService.functionReturned$.subscribe((data: string) => {\r\n      this.zone.run(() => {\r\n      if (data.length > 0 && data.includes(\"name\") ) {\r\n\r\n        const responseObject = JSON.parse(data);\r\n        try {\r\n          responseObject.arguments =  JSON.parse(responseObject.arguments);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n\r\n\r\n          switch (responseObject.name.trim()) {\r\n            case 'set_votes':\r\n              this.cargarResultadoPorVoz(responseObject.arguments );\r\n              break;\r\n\r\n            default:\r\n              console.log('La función no está definida o no se proporcionó un nombre válido.');\r\n          }\r\n\r\n\r\n        // Verificar el nombre de la función y ejecutarla con los argumentos correspondientes\r\n\r\n        console.log(data);\r\n\r\n      }\r\n    });\r\n\r\n    });\r\n  }\r\n\r\n  loadCargos() {\r\n    this.cargos = this.listas.map(item => item.Cargo)\r\n      .filter((value, index, self) => self.findIndex(c => c.id === value.id) === index);\r\n\r\n    //this.filtrarListasPorCargo(this.cargos[0].id); // Opcional: Selecciona el primer cargo por defecto\r\n  }\r\n\r\n  loadListasElectorales() {\r\n    this.escrutinioService.getListasElectoralesPorEleccion(this.eleccion_id)\r\n      .subscribe({\r\n        next: (res: ListaElectoral[]) => {\r\n          this.listas = res;\r\n          this.loadCargos();\r\n\r\n        }\r\n      });\r\n  }\r\n\r\n  loadMesa() {\r\n    const mesa = new MesasElectoral();\r\n    mesa.id = this.mesa_id;\r\n    this.crudService.getById(mesa).subscribe(\r\n      {\r\n        next: (mesa: MesasElectoral) => {\r\n          this.mesa = mesa;\r\n        },\r\n        error: (err) => {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: err,\r\n          });\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  filtrarListasPorCargo(cargoId: number) {\r\n    this.listasFiltradas = this.listas.filter(lista => lista.cargo_id === cargoId);\r\n\r\n  }\r\n\r\n  onSelectChange(event: MatSelectChange) {\r\n    this.idCargoSelected = event.value.id;\r\n    this.filtrarListasPorCargo(this.idCargoSelected);\r\n    // al cambiar el cargo, buscar si hay resultados y mostrarlos\r\n    //si no hay resultados cargar el formulario vacio\r\n\r\n    this.escrutinioService.getResultadoMesaPorCargo(this.mesa_id, this.idCargoSelected)\r\n      .subscribe((res: ResultadoMesa) => {\r\n        let resultado = new ResultadoMesa();\r\n        if (res) {\r\n          //si existe el resultado de mesa para el cargo\r\n          //agrego el detalle de los faltantes (rara vez podria venir con faltantes)\r\n          resultado = Object.assign(new ResultadoMesa, res);\r\n\r\n        } else {\r\n          resultado.mesa_id = this.mesa_id;\r\n          resultado.cargo_id = this.idCargoSelected;\r\n          resultado.total = 0;\r\n          resultado.votosAfirmativos = 0;\r\n          resultado.votosBlancos = 0;\r\n          resultado.votosImpuganados = 0;\r\n          resultado.votosNulos = 0;\r\n          resultado.votosRecurridos = 0;\r\n          resultado.DetalleResultado = [];\r\n        }\r\n        this.agregarDetallesFaltantes(resultado);\r\n        this.resultadoMesa = resultado;\r\n        console.log(resultado);\r\n        this.actualizarValores();\r\n      });\r\n    this.armarFunctionsCallings();\r\n\r\n    //this.functionCallingService.addPromptText(this.armarPromt());\r\n    this.functionCallingService.addPromptText(this.armarPromtCastellano());\r\n\r\n\r\n    console.log('Valor seleccionado:', this.idCargoSelected);\r\n  }\r\n\r\n  armarFunctionsCallings(){\r\n    this.funciones = [\r\n      {\r\n        name: 'set_votes',\r\n        description: \"\",\r\n        parameters: {\r\n            type: 'object',\r\n            properties: {\r\n                votes: {\r\n                    type: 'array',\r\n                    items: {\r\n                        type: 'object',\r\n                        properties: {\r\n                            name: {type: 'string', description: 'Name of candidate, e.g. Juan Manuel'},\r\n                            id: {type: 'string', description: 'Id of candidate, e.g. 1'},\r\n                            qty_vote: {type: 'integer', description:'Number of votes, e.g. 100'}\r\n                        },\r\n                    }\r\n                },\r\n                blanco: {\r\n                  type: 'integer',\r\n                  description: 'Numero de votos en blanco, e.g. 20'\r\n                },\r\n                nulos:{\r\n                  type: 'integer',\r\n                  description: 'Numero de votos nulos, e.g. 5'\r\n                },\r\n                recurridos:{\r\n                  type: 'integer',\r\n                  description: 'Numero de votos recurridos, e.g 3'\r\n                },\r\n                impugnados:{\r\n                  type: 'integer',\r\n                  description: 'Numero de votos impugnados, e.g. 1'\r\n                }\r\n            },\r\n        }\r\n      }\r\n    ];\r\n    this.functionCallingService.addFunctions( this.funciones);\r\n  }\r\n  armarPromt() : string {\r\n\r\n    let prompt = `You have the following candidates name / candidate ID number /political parties name/political parties number:`;\r\n    for (let i = 0; i < this.listasFiltradas.length; i++) {\r\n      const l = this.listasFiltradas[i];\r\n      prompt = prompt + \"\\n\" + `${i}. ${l.Candidato.nombre} ${l.Candidato.apellido} / ${l.Candidato.id} / ${l.nombre} /  ${l.numero_lista}`;\r\n\r\n    }\r\n    prompt = prompt + '\\n' + 'The goal is set the votes for candidates in the list above.';\r\n    return prompt;\r\n  }\r\n\r\n  armarPromtCastellano() : string {\r\n\r\n    let prompt = `You have the following candidates name with candidate ID number and political parties name with political parties number:`;\r\n    for (let i = 0; i < this.listasFiltradas.length; i++) {\r\n      const l = this.listasFiltradas[i];\r\n      let linea =\r\n      `{\r\n        \"candidate_name\": \"${l.Candidato.nombre.replace(/\"/g, '')} ${l.Candidato.apellido.replace(/\"/g, '')}\",\r\n        \"candidate_id\": \"${l.Candidato.id}\",\r\n        \"political_party\": \"${l.nombre}\",\r\n        \"list_number\": \"${l.numero_lista}\"\r\n      }`;\r\n      if (i < this.listasFiltradas.length - 1) {\r\n        linea += ',';\r\n      }\r\n      prompt = prompt + \"\\n\" + linea;\r\n\r\n    }\r\n    prompt = prompt + '\\n' + `The goal is set the votes for candidates in the list above.\r\n    If the user try to set vote to a candidate that is not in the list, inform the situation to user.\r\n    Please you not try to set vote to a candidate that is not in the list`;\r\n    return prompt;\r\n  }\r\n\r\n  agregarDetallesFaltantes(resultadoMesa: ResultadoMesa) {\r\n    this.listasFiltradas.forEach((lista: ListaElectoral) => {\r\n      const detalleExistente = resultadoMesa.DetalleResultado.find(detalle => detalle.lista_id === lista.id);\r\n\r\n      if (!detalleExistente) {\r\n        const nuevoDetalle: DetalleResultado = {\r\n          mesa_id: this.mesa_id, // Asigna el valor adecuado para mesa_id\r\n          cargo_id: this.idCargoSelected, // Asigna el valor adecuado para cargo_id\r\n          lista_id: lista.id,\r\n          ListaElectoral: lista,\r\n          cantidadVotos: 0 // Asigna el valor inicial adecuado para cantidadVotos\r\n        };\r\n\r\n        resultadoMesa.DetalleResultado.push(nuevoDetalle);\r\n      }\r\n    });\r\n  }\r\n\r\n  actualizarValores() {\r\n    const rta = this.resultadoMesa?.DetalleResultado.map(i => i.cantidadVotos).reduce(\r\n      (accum, valor) => {\r\n        return accum += valor;\r\n      }\r\n    )\r\n    if (this.resultadoMesa) {\r\n      this.resultadoMesa.votosAfirmativos = rta ? rta : 0;\r\n      const totalVotos = this.resultadoMesa.votosAfirmativos + this.resultadoMesa.votosBlancos\r\n        + this.resultadoMesa.votosImpuganados + this.resultadoMesa.votosNulos + this.resultadoMesa.votosRecurridos;\r\n      this.totalVotos = totalVotos;\r\n    };\r\n\r\n  }\r\n  guardar() {\r\n    console.log(this.resultadoMesa);\r\n    if (this.resultadoMesa)\r\n      this.escrutinioService.guardarResultadoMesa(this.resultadoMesa).subscribe(\r\n        {\r\n          next: (res) => {\r\n            console.log(res);\r\n          },\r\n          error: (err) => {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  validarResultado(): boolean {\r\n\r\n\r\n    return false;\r\n  }\r\n\r\n  cargarResultadoPorVoz(argumentos : any){\r\n    if(argumentos.votes){\r\n      argumentos.votes.forEach((c: any)=> {\r\n        const dr = this.resultadoMesa?.DetalleResultado.find(x=> x.ListaElectoral.Candidato.id == c.id);\r\n        if(dr){\r\n          //si encuentro el candidato, modifico el detalle,\r\n          dr.cantidadVotos = c.qty_vote;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n    if(argumentos.blanco !== undefined && this.resultadoMesa){\r\n      this.resultadoMesa.votosBlancos = argumentos.blanco;\r\n    }\r\n\r\n    if(argumentos.nulos !== undefined && this.resultadoMesa){\r\n      this.resultadoMesa.votosNulos = argumentos.nulos;\r\n    }\r\n\r\n    if(argumentos.recurridos !== undefined && this.resultadoMesa){\r\n      this.resultadoMesa.votosRecurridos = argumentos.recurridos;\r\n    }\r\n\r\n    if(argumentos.impugnados !== undefined && this.resultadoMesa){\r\n      this.resultadoMesa.votosImpuganados = argumentos.impugnados;\r\n    }\r\n    this.actualizarValores();\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { SidebarEscrutinioComponent } from './layout/sidebar-escrutinio/sidebar-escrutinio.component';\r\nimport { EscrutinioRoutingModule } from './escrutinio-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MaterialModule } from '../Shared/modules/material.module';\r\nimport { CargaDatosComponent } from './carga-datos/carga-datos.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LayoutComponent,\r\n    SidebarEscrutinioComponent,\r\n    CargaDatosComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    EscrutinioRoutingModule,\r\n    MaterialModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [LayoutComponent,SidebarEscrutinioComponent]\r\n})\r\nexport class EscrutinioModule { }\r\n"],"x_google_ignoreList":[]}